<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"celeo.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Web browser automation">
<meta property="og:type" content="article">
<meta property="og:title" content="Useful Python libraries 5 - Selenium">
<meta property="og:url" content="https://celeo.github.io/2016/01/01/useful-python-libraries-5-selenium/index.html">
<meta property="og:site_name" content="Etchings">
<meta property="og:description" content="Web browser automation">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2016-01-01T08:00:00.000Z">
<meta property="article:modified_time" content="2024-04-30T02:23:45.344Z">
<meta property="article:author" content="Matt Boulanger">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="old_blog">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://celeo.github.io/2016/01/01/useful-python-libraries-5-selenium/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://celeo.github.io/2016/01/01/useful-python-libraries-5-selenium/","path":"2016/01/01/useful-python-libraries-5-selenium/","title":"Useful Python libraries 5 - Selenium"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Useful Python libraries 5 - Selenium | Etchings</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Etchings</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-github"><a href="https://github.com/Celeo" rel="section" target="_blank"><i class="fa fa-link fa-fw"></i>GitHub</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installation"><span class="nav-number">1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Making-the-connection"><span class="nav-number">2.</span> <span class="nav-text">Making the connection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interacting-with-the-page"><span class="nav-number">3.</span> <span class="nav-text">Interacting with the page</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Taking-screenshots"><span class="nav-number">4.</span> <span class="nav-text">Taking screenshots</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Other-browsers"><span class="nav-number">5.</span> <span class="nav-text">Other browsers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Review"><span class="nav-number">6.</span> <span class="nav-text">Review</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Matt Boulanger</p>
  <div class="site-description" itemprop="description">Personal blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://celeo.github.io/2016/01/01/useful-python-libraries-5-selenium/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Matt Boulanger">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Etchings">
      <meta itemprop="description" content="Personal blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Useful Python libraries 5 - Selenium | Etchings">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Useful Python libraries 5 - Selenium
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2016-01-01T00:00:00-08:00">2016-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-04-29 19:23:45" itemprop="dateModified" datetime="2024-04-29T19:23:45-07:00">2024-04-29</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>Web browser automation</p>
<span id="more"></span>

<blockquote>
<p>&quot;Selenium automates browsers. That&#39;s it! What you do with that power is entirely up to you. Primarily, it is for automating web applications for testing purposes, but is certainly not limited to just that. Boring web-based administration tasks can (and should!) also be automated as well.&quot;</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/SeleniumHQ/selenium">GitHub</a></li>
<li><a target="_blank" rel="noopener" href="https://pypi.python.org/pypi/selenium">PyPi</a></li>
<li><a target="_blank" rel="noopener" href="http://www.seleniumhq.org/">Homepage</a></li>
<li><a target="_blank" rel="noopener" href="http://www.seleniumhq.org/docs/">General Docs</a></li>
<li><a target="_blank" rel="noopener" href="https://seleniumhq.github.io/selenium/docs/api/py/api.html">Official Python Docs</a></li>
<li><a target="_blank" rel="noopener" href="http://selenium-python.readthedocs.io/">Additional Python Docs</a></li>
</ul>
<p>Selenium has bindings for Java, C#, Python, Ruby, PHP, Perl, and JavaScript. We&#39;ll be looking at the Python package. But it also has a full IDE in the form of a Firefox plugin that lets the user create test suites without ever touching code.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>The Python bindings are installed with a single command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install selenium</span><br></pre></td></tr></table></figure>

<h2 id="Making-the-connection"><a href="#Making-the-connection" class="headerlink" title="Making the connection"></a>Making the connection</h2><p>To start off, we only have to import the webdriver module:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br></pre></td></tr></table></figure>

<p>This lets us create our driver that we&#39;ll use to control the browser. By default, Firefox is supported out of the box (if you have Firefox installed on your system, of course). We&#39;ll talk about Chrome, IE, and others later.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver = webdriver.Firefox()</span><br></pre></td></tr></table></figure>

<p>We&#39;ll need to keep this driver object around - creating additional webdriver.Firefox objects will open additional browsers so unless that&#39;s your intention, stick with the single object.</p>
<p>Navigating to a URL is done with the get method:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.get(&#x27;google.com&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="Interacting-with-the-page"><a href="#Interacting-with-the-page" class="headerlink" title="Interacting with the page"></a>Interacting with the page</h2><p>To interact with the page, we need to locate DOM elements on the page. We do this through <code>find_element(s)_by_</code> methods. My favorite is <code>find_element_by_xpath</code> due to the ease of getting the paths from Chrome&#39;s DevTools console.</p>
<p>Open Chrome and navigate to the page manually that you want to interact with. Right-click the element you&#39;ll be interacting with (clicking, getting the text, etc.) and select Inspect from the context menu. The DevTools panel will pop up. Right-click the highlighted row and select Copy &gt; Copy XPath. This will copy the XPath to your clipboard.</p>
<p>Back in the code (I find that using the Python interpreter is extremely useful for setting up Selenium test cases due to the instant feedback):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element = driver.find_element_by_xpath(&#x27;//*[@id=&quot;tsf&quot;]/div[2]/div[3]/center/input[1]&#x27;)</span><br></pre></td></tr></table></figure>

<p>This gets us a <code>WebElement</code> object.</p>
<p>The methods here I use most often are:</p>
<ul>
<li>click - click the element as if the user had clicked with the mouse; used for links to navigate about the site without directly navigating to URLs</li>
<li>send_keys - enter values into a textbox or similar; used in submitting forms, often for logging in</li>
<li>submit - submit a form; used to submit those forms that you entered data into</li>
</ul>
<p>If we wanted to enter &quot;selenium python&quot; into Google&#39;s search bar and click the search button, we&#39;d write</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_xpath(&#x27;//*[@id=&quot;lst-ib&quot;]&#x27;).send_keys(&#x27;selenium python&#x27;)</span><br><span class="line">driver.find_element_by_xpath(&#x27;//*[@id=&quot;tsf&quot;]/div[2]/div[3]/center/input[1]&#x27;).click()</span><br></pre></td></tr></table></figure>

<h2 id="Taking-screenshots"><a href="#Taking-screenshots" class="headerlink" title="Taking screenshots"></a>Taking screenshots</h2><p>We can have the driver take a screenshot of what&#39;s currently displayed in the browser with get_screenshot_as_file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.get_screenshot_as_file(&#x27;/path/to/screenshot.png&#x27;)</span><br></pre></td></tr></table></figure>

<p>Depending on how you structure your code, you may want to wrap large portions of the calls in try-except blocks and have the except block take a screenshot of what&#39;s displayed on the page for debugging later.</p>
<h2 id="Other-browsers"><a href="#Other-browsers" class="headerlink" title="Other browsers"></a>Other browsers</h2><p>I noted earlier that Firefox works out of the box, but Chrome, IE, Opera, and Safari can also be used. Use of any of these browsers requires 2 things:</p>
<ol>
<li>The browser is installed on the system</li>
<li>You download the driver for those browser and pass it to the respective constructor</li>
</ol>
<p>First, download the driver(s) that you want:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/seleniumhq/selenium-google-code-issue-archive">Chrome</a></li>
<li><a target="_blank" rel="noopener" href="https://selenium-release.storage.googleapis.com/index.html">IE</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/operasoftware/operachromiumdriver">Opera</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/SeleniumHQ/selenium/wiki/SafariDriver">Safari</a></li>
</ul>
<p>And then pass the path to the binary when constructing the object:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver = webdriver.Chrome(&#x27;/path/to/chromedriver.exe&#x27;)</span><br><span class="line">driver = webdriver.Ie(&#x27;/path/to/iedriver.exe&#x27;)</span><br><span class="line">driver = webdriver.Opera(&#x27;/path/to/operadriver.exe&#x27;)</span><br><span class="line">driver = webdriver.Safari(&#x27;/path/to/safaridriver.exe&#x27;)</span><br></pre></td></tr></table></figure>

<p>I&#39;ve found that using the IE driver is more trouble than it&#39;s worth - the driver is extremely slow.</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>Selenium lets us automate web browsers. This can be used to perform automated tests of a website (write a script, toss it into a cron job), check your favorite website for changes, or just perform a routine task that you&#39;d rather not manually click through yourself.</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/programming/" rel="tag"># programming</a>
              <a href="/tags/old-blog/" rel="tag"># old_blog</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2016/01/01/useful-python-libraries-2-docopt/" rel="prev" title="Useful Python libraries 2 - Docopt">
                  <i class="fa fa-chevron-left"></i> Useful Python libraries 2 - Docopt
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2016/01/01/useful-python-libraries-4-fabric/" rel="next" title="Useful Python libraries 4 - Fabric">
                  Useful Python libraries 4 - Fabric <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Matt Boulanger</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
